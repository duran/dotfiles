# This file represent the environmental variables for a "pet" machine. This setup have been tested in the following situations.
# | OS    | Situation         | Login | Interactive |
# |:------|:------------------|:------|:------------|
# | Linux | Terminal          | Yes   | Yes         |
# | Linux | Xorg              | Yes   | No          |
# |       | Terminal emulator | No    | Yes         |
# | MacOS | Terminal emulator | Yes   | Yes         |
# | W10   | Terminal emulator | Yes   | Yes         |

# TODO: Finish this
# The configuration of the Bourne shell is straightforwards. We try to maintain
# compatibility for simplicity sake.
# Later shells changed where they look for configuration files. Bash (the shell
# I use) is one of the worse offenders: most of the files in the root folder are
# there to assure that Bash do what we want it to do.

# Bourne Shell (POSIX)
#   1. ~/.profile (login)
#   2. $ENV (interactive)
#   3. runs...
# from:  https://blog.flowblok.id.au/2013-02/shell-startup-scripts.html

# TODO: Explain XDG Base directory + SSH rc file relationships
# https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html#introduction
# https://docstore.mik.ua/orelly/networking_2ndEd/ssh/ch08_04.htm


#########
# POSIX #
#########
# Executable path(s) for executables
export PATH="$PATH:$HOME/.local/bin" # Personal scripts in path
# Text: Pager, CLI editor, TUI editor, Web Browser
export PAGER=less
export EDITOR='vim -E'
export VISUAL=vim
export BROWSER=w3m
# Shell, interactive conf, history size
export ENV="$HOME"/.config/sh/interactive
export HISTSIZE=5000


##################
# Other Software #
##################

# Bash
# No maximum size in history size
export HISTFILESIZE=-1
#ignoreboth:erasedups# no lines starting with space, no dups
export HISTCONTROL=ignorespace 
#export HISTIGNORE="&:[ ]*:exit:ls:bg:fg:history"

# Readline
export INPUTRC="$HOME"/.config/readline.conf

# Less
# TODO: Check key bindings

export LESS='-RXF --use-color -Dd+r$Du+b'
export LESSHISTFILE=-

# LESS_TERMCAP_mb=$(printf '\E[1;31m')     # begin bold
# LESS_TERMCAP_md=$(printf '\E[1;36m')     # begin blink
# LESS_TERMCAP_me=$(printf '\E[0m')        # reset bold/blink
# LESS_TERMCAP_so=$(printf '\E[01;44;33m') # begin reverse video
# LESS_TERMCAP_se=$(printf '\E[0m')        # reset reverse video
# LESS_TERMCAP_us=$(printf '\E[1;32m')     # begin underline
# LESS_TERMCAP_ue=$(printf '\E[0m')        # reset underline
# 
# export LESS_TERMCAP_mb
# export LESS_TERMCAP_md
# export LESS_TERMCAP_me
# export LESS_TERMCAP_so
# export LESS_TERMCAP_se
# export LESS_TERMCAP_us
# export LESS_TERMCAP_ue

# GNU ls
# (colors created with dircolors over .dir_colors and used with ls --colors) plus date and size
export LS_COLORS='no=00:fi=00:di=36:ln=35:pi=37;44:so=37;44:do=37;44:bd=37;44:cd=37;44:or=05;37;45:mi=05;37;45:tw=30;46:ow=30;46:ex=01;31:';

export TIME_STYLE=long-iso
export BLOCK_SIZE="'1"

# BSD ls
export CLICOLOR=1
export LSCOLORS=ExGxFxdxCxDxDxxbaDecac

# FZF
export FZF_DEFAULT_COMMAND='fd --hidden --exclude .git'
export FZF_DEFAULT_OPTS='--bind=ctrl-j:accept'
export FZF_DEFAULT_OPTS="$FZF_DEFAULT_OPTS "\
'--color=bg+:,bg:,spinner:,hl: --color=fg:,header:,info:,pointer: --color=marker:,fg+:,prompt:,hl+: --color=bg+:#383830,bg:#272822,spinner:#a1efe4,hl:#66d9ef --color=fg:#a59f85,header:#66d9ef,info:#f4bf75,pointer:#a1efe4 --color=marker:#a1efe4,fg+:#f5f4f1,prompt:#f4bf75,hl+:#66d9ef'

# Python
export PYTHONSTARTUP="$HOME"/.config/python/interactive
export IPYTHONDIR="$HOME"/.config/ipython

# R
export R_ENVIRON_USER="$HOME"/.config/r/env

# Homebrew
export HOMEBREW_NO_ANALYTICS=1       # no telemery
export HOMEBREW_NO_AUTO_UPDATE=1     # no automatic update of homebrew
export HOMEBREW_NO_INSTALL_UPGRADE=1 # no automatic update of homebrew packages

# Browser
export WWW_HOME=https://en.wikinews.org/wiki/Special:Random
# W3M
export W3M_DIR="$HOME"/.config/w3m

# Terminal emulators
export TERMCMD=terminal
export TERMINAL_EMULATOR=terminal
